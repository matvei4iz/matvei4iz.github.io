<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Тренажёры — выбор набора</title>
<style>
  html,body{margin:0;padding:0;background:#0f1220;color:#e9ecf1;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  .wrap{max-width:960px;margin:0 auto;padding:24px}
  h1{font-size:28px;margin:0 0 12px}
  .grid{display:grid;grid-template-columns:1fr;gap:12px}
  @media(min-width:720px){.grid{grid-template-columns:1fr 1fr}}
  .card{background:#171a2b;border:1px solid #272b44;border-radius:14px;padding:16px}
  .row{display:flex;justify-content:space-between;gap:10px;align-items:center}
  .title{font-weight:700}
  .desc{color:#b7c0d1;margin:6px 0 14px}
  a.btn,button.btn{display:inline-block;border:1px solid #3a4062;background:#1e2340;color:#e9ecf1;padding:10px 14px;border-radius:12px;text-decoration:none;cursor:pointer}
  a.btn:hover,button.btn:hover{border-color:#6f78ff}
  .sub{color:#b7c0d1;margin:0 0 16px}
</style>
</head>
<body>
<div class="wrap">
  <h1>Выбери тренажёр</h1>
  <div id="grid" class="grid"></div>
</div>
<script>
  const grid = document.getElementById('grid');

  fetch('trainers.json', {cache:'no-store'})
    .then(r => r.json())
    .then(data => {
      (data.sets||[]).forEach(s => {
        const div = document.createElement('div');
        div.className = 'card';
        div.innerHTML = `
          <div class="row"><div class="title">${s.title}</div></div>
          <div class="desc">${s.desc||''}</div>
          <a class="btn" href="trainer.html?src=${encodeURIComponent(s.src)}">Открыть</a>
        `;
        grid.appendChild(div);
      });
    })
    .catch(e=>{
      const d=document.createElement('div');
      d.textContent = 'Не удалось загрузить trainers.json: ' + e;
      grid.appendChild(d);
    });
</script>
</body>
</html>
